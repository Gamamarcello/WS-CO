import{$ as a,A as p,S as u,I as d,T as f,X as m,V as y,M as h,d as w,a as g,b,G as v}from"./vendor.5a76066d.js";const x=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(e){if(e.ep)return;e.ep=!0;const t=r(e);fetch(e.href,t)}};x();window.jQuery=window.$=a;const S=[-75.573553,6.2443382],j="pk.eyJ1IjoiZWxwYmF0aXN0YSIsImEiOiJja3gyZHl5OXYxbm5yMnFxOTFtZWhqbWlhIn0.bbHJjnHrt_d9iqu4hBZgyw",O=new p({collapsible:!1}),M=new u({image:new d({anchor:[.5,31],anchorXUnits:"fraction",anchorYUnits:"pixels",src:"../img/map-marker-2-32.png"})}),T=new f({source:new m({attributions:'\xA9 <a href="https://www.mapbox.com/map-feedback/">Mapbox</a> \xA9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap contributors</a>',url:"https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/{z}/{x}/{y}?access_token="+j})}),c=new y({style:M}),l=new h({controls:w({attribution:!1}).extend([O]),target:"map",layers:[T,c],view:new g({projection:"EPSG:4326",center:S,zoom:15})}),I=(o,s)=>{a.ajax({url:"http://api.addressforall.org/test/_sql/rpc/search_bounded",type:"POST",processData:!1,contentType:"application/json",cache:!0,jsonp:!1,data:JSON.stringify({_q:o,viewbox:s}),dataType:"json",crossDomain:!0,success:function(r){c.setSource(null),c.setSource(new b({features:new v().readFeatures(r)}));let n=r.features.map(e=>'<li class="list-group-item d-flex justify-content-between align-items-start"><div class="ms-2 me-auto"><div class="fw-bold">'+e.properties.address+'</div><div class="fw-lighter">'+e.properties.display_name+" "+e.properties.barrio+'</div></div><span class="badge bg-info bg-opacity-85 rounded-pill">'+Math.round(e.properties.similarity*100)+"%</span></li>");a("#afo-results").show(),a("#afo-results").children("ul").empty(),a("#afo-results").children("ul").append(n)}})},L=o=>{let s=a(o.target);o.stopPropagation(),clearTimeout(s.data("timeout")),s.data("timeout",setTimeout(function(){let r=s.val();r.length>=3&&I(r,l.getView().calculateExtent(l.getSize()))},200))};a("#search").on("keyup",function(o){L(o)});
//# sourceMappingURL=index.ca817dc7.js.map
