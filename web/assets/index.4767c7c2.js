import{A as p,S as u,I as f,T as m,X as d,M as y,d as g,V as h,a as w,b,G as x}from"./vendor.6259a3c6.js";const v=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(e){if(e.ep)return;e.ep=!0;const t=r(e);fetch(e.href,t)}};v();const S=[-75.573553,6.2443382],O="pk.eyJ1IjoiZWxwYmF0aXN0YSIsImEiOiJja3gyZHl5OXYxbm5yMnFxOTFtZWhqbWlhIn0.bbHJjnHrt_d9iqu4hBZgyw",j=new p({collapsible:!1}),T=new u({image:new f({anchor:[.5,31],anchorXUnits:"fraction",anchorYUnits:"pixels",src:"../img/map-marker-2-32.png"})}),l=new m({source:new d({attributions:'\xA9 <a href="https://www.mapbox.com/map-feedback/">Mapbox</a> \xA9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap contributors</a>',url:"https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/{z}/{x}/{y}?access_token="+O})}),c=new y({controls:g({attribution:!1}).extend([j]),target:"map",layers:[l],view:new h({projection:"EPSG:4326",center:S,zoom:15})});let s=[];l.on("prerender",function(a){s=c.getView().calculateExtent(c.getSize())});$(function(){function a(o){$("<div>").text(o).prependTo("#log"),$("#log").scrollTop(0)}$("#search").autocomplete({appendTo:"#afo-search",source:function(o,r){$.ajax({url:"http://api.addressforall.org/test/_sql/rpc/search_bounded",type:"POST",processData:!1,contentType:"application/json",cache:!0,jsonp:!1,data:JSON.stringify({_q:o.term,viewbox:[s[0],s[1],s[2],s[3]]}),dataType:"json",crossDomain:!0,success:function(n){new w({map:c,source:new b({features:new x().readFeatures(n)}),style:T}),r(n.features.map(e=>e.properties.display_name)),console.log(n.features.map(e=>e.properties.display_name))}})},minLength:3,select:function(o,r){a("Selected: "+r.item.value+" aka "+r.item.id)}})});
//# sourceMappingURL=index.4767c7c2.js.map
