import{A as l,S as p,I as u,T as d,X as f,V as m,M as y,d as h,a as g,b,G as w}from"./vendor.467acc45.js";const v=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function r(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(e){if(e.ep)return;e.ep=!0;const t=r(e);fetch(e.href,t)}};v();const x=[-75.573553,6.2443382],S="pk.eyJ1IjoiZWxwYmF0aXN0YSIsImEiOiJja3gyZHl5OXYxbm5yMnFxOTFtZWhqbWlhIn0.bbHJjnHrt_d9iqu4hBZgyw",O=new l({collapsible:!1}),j=new p({image:new u({anchor:[.5,31],anchorXUnits:"fraction",anchorYUnits:"pixels",src:"../img/map-marker-2-32.png"})}),M=new d({source:new f({attributions:'\xA9 <a href="https://www.mapbox.com/map-feedback/">Mapbox</a> \xA9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap contributors</a>',url:"https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/{z}/{x}/{y}?access_token="+S})}),i=new m({style:j}),c=new y({controls:h({attribution:!1}).extend([O]),target:"map",layers:[M,i],view:new g({projection:"EPSG:4326",center:x,zoom:15})}),T=(o,s)=>{$.ajax({url:"http://api.addressforall.org/test/_sql/rpc/search_bounded",type:"POST",processData:!1,contentType:"application/json",cache:!0,jsonp:!1,data:JSON.stringify({_q:o,viewbox:s}),dataType:"json",crossDomain:!0,success:function(r){i.setSource(null),i.setSource(new b({features:new w().readFeatures(r)}));let a=r.features.map(e=>'<li class="list-group-item d-flex justify-content-between align-items-start"><div class="ms-2 me-auto"><div class="fw-bold">'+e.properties.address+'</div><div class="address fw-lighter">'+e.properties.display_name+" "+e.properties.barrio+'</div></div><span class="badge bg-info bg-opacity-85 rounded-pill">'+Math.round(e.properties.similarity*100)+"%</span></li>");$("#afo-results").show(),$("#afo-results").children("ul").empty(),$("#afo-results").children("ul").append(a),$(".address").mark(o.split(" "))}})},k=o=>{let s=$(o.target);o.stopPropagation(),clearTimeout(s.data("timeout")),s.data("timeout",setTimeout(function(){let r=s.val();r.length>=3&&T(r,c.getView().calculateExtent(c.getSize()))},200))};$("#search").on("keyup",function(o){k(o)});
//# sourceMappingURL=index.dcb4d8b8.js.map
